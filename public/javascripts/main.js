let isLogin=!1;const playlist_uri=origin+"/api/v1/video/all",playlist_uri_encode=encodeURI(playlist_uri);async function start(){document.getElementById("start").style.display="none",document.getElementById("main").style.display="block";const i=await axios.get(playlist_uri_encode);let e="";i.data.forEach(i=>{i.addby||(i.addby="unknown"),i.addby=i.addby.slice(0,i.addby.length-4)+"*",i.title.length>46&&(i.title=i.title.substring(0,46)+"..."),e+=`\n  <div class="video_items" id="${i.videoId}">\n  <div class="box" >\n  <span id="img-playlist-video"><img height="75px" width="100px" src="https://i.ytimg.com/vi/${i.videoId}/default.jpg"></span>\n  <div>\n      <div id="title"><span >${i.title}</span></div>\n      <div id="addby"><span>added by ${i.addby}</span>\n  </div>\n  </div>\n  </div>\n  <div class="emotion">\n  <i id="like-${i.videoId}" class="far fa-thumbs-up like" onclick="likeVideo('${i.videoId}')"></i>\n  <span class="like_count" id="like_count-${i.videoId}">${i.like}</span>\n  <i id="dislike-${i.videoId}" class="far fa-thumbs-down dislike" onclick="dislikeVideo('${i.videoId}')"></i>\n  <span class="dislike_count" id="dislike_count-${i.videoId}">${i.dislike}</span>\n  </div>\n  </div>\n  `,document.getElementById("videolist").innerHTML=e})}$("#addVideo").click(i=>{addtoplaylist()});const updateUI=i=>{};async function addtoplaylist(){isLogin?$("#search").css("display","block"):document.getElementById("login").style.display="block"}function likeVideo(i){let e=document.getElementById(`like-${i}`);"white"!=e.style.color?(e.style.color="white",socket.emit("like_video",i)):(e.style.color="rgb(146, 139, 139)",socket.emit("unlike_video",i))}function dislikeVideo(i){let e=document.getElementById(`dislike-${i}`);"white"!=e.style.color?(e.style.color="white",socket.emit("dislike_video",i)):(e.style.color="rgb(146, 139, 139)",socket.emit("undislike_video",i))}socket.emit("checkLogin"),socket.on("checkLogin",i=>isLogin=i),start(),socket.on("like_video",i=>{document.getElementById(`like_count-${i.videoId}`).innerHTML=i.like}),socket.on("dislike_video",i=>{document.getElementById(`dislike_count-${i.videoId}`).innerHTML=i.dislike}),socket.on("initLikeVideo",i=>{0!=i.length&&i.forEach(i=>{document.getElementById(`like-${i}`).style.color="white"})}),socket.on("initDislikeVideo",i=>{0!=i.length&&i.forEach(i=>{document.getElementById(`dislike-${i}`).style.color="white"})});